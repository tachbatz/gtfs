{% extends 'base.html' %}

{% block content %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script>
    $(document).ready(function(){
      $("#change_date").on("submit", function(){
        $("#pageloader").fadeIn();
      });//submit
    });//document ready
  </script> 

        <div class="site-header">
            <h1>Agency {{agency_name}} Drilldown</h1><br>
            <h3>As of:
                <form action="../agency_report/" method="GET" name="change_date" id="change_date">
                    <input type=hidden name="agency" value={{agency_id}}>
                    <input type=date name="report_date" value={{report_date}} min={{min_date}} max={{max_date}}><br>
                    
                    <div class="line_form__item">
                        <button type="submit" id="btnFetch" class="line_form__btn btn btn-primary mb-2" style='width: 135px;'>Change</button>
                      </div>
                </form>
            </h3>
        </div>
        
       <div class="content-wrapper">
            <div class="first-section-content-wrapper">
                <div class="protfolio-items-wrapper-bus-line">

                    <div class="protfolio-item-wrapper">
                        {% load static %}
                        <div class="protfolio-img-background-mesurment" style="background-image: url({% static 'mysite/images/gray-background.jpg' %});"></div>

                        <div class="dash-text-wrapper">
                            <div class="haeder-wrapper">
                                <span class="labelmain">THE LINE WITH THE LOWEST NUMBER OF STATIONS:</span>
                            </div><br><br>

                            <div class="measure-wrapper">
                                <label></label>
                            </div>
                        </div>
                    </div>

                    <div class="protfolio-item-wrapper">
                        {% load static %}
                        <div class="protfolio-img-background-mesurment" style="background-image: url({% static 'mysite/images/gray-background.jpg' %});"></div>

                        <div class="dash-text-wrapper">
                            <div class="haeder-wrapper">
                                <span class="labelmain">Line's Route</span>
                            </div><br><br>

                            <div class="measure-wrapper">
                                <label>{{lowest_name_route_by_station.0}}<br>⇆<br>{{lowest_name_route_by_station.1}}</label>
                            </div>
                        </div>
                    </div>

                    <div class="protfolio-item-wrapper">
                        {% load static %}
                        <div class="protfolio-img-background-mesurment" style="background-image: url({% static 'mysite/images/gray-background.jpg' %});"></div>

                        <div class="dash-text-wrapper">
                            <div class="haeder-wrapper">
                                <span class="labelmain">Line's Number</span>
                            </div><br><br>

                            <div class="measure-wrapper">
                                <label>{{lowest_line_number_by_station}}</label>
                            </div>
                        </div>
                    </div>

                    <div class="protfolio-item-wrapper">
                         {% load static %}
                        <div class="protfolio-img-background-mesurment" style="background-image: url({% static 'mysite/images/gray-background.jpg' %});"></div>

                        <div class="dash-text-wrapper">
                            <div class="haeder-wrapper">
                                <span class="labelmain">Number of Stations</span>
                            </div><br><br>

                            <div class="measure-wrapper">
                                <label>{{lowest_number_station}}</label>
                            </div>
                        </div>
                    </div>
                    
                </div>
                




               
                
                <div class="protfolio-items-wrapper-bus-line">

                    <div class="protfolio-item-wrapper">
                        {% load static %}
                        <div class="protfolio-img-background-mesurment" style="background-image: url({% static 'mysite/images/gray-background.jpg' %});"></div>

                        <div class="dash-text-wrapper">
                            <div class="haeder-wrapper">
                                <span class="labelmain">THE LINE WITH THE HIGHEST NUMBER OF STATIONS:</span>
                            </div><br><br>

                            <div class="measure-wrapper">
                                <label></label>
                            </div>
                        </div>
                    </div>

                    <div class="protfolio-item-wrapper">
                        {% load static %}
                        <div class="protfolio-img-background-mesurment" style="background-image: url({% static 'mysite/images/gray-background.jpg' %});"></div>

                        <div class="dash-text-wrapper">
                            <div class="haeder-wrapper">
                                <span class="labelmain">Line's Route</span>
                            </div><br><br>

                            <div class="measure-wrapper">
                                <label>{{highest_name_route_by_station.0}}<br>⇆<br>{{highest_name_route_by_station.1}}</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="protfolio-item-wrapper">
                        {% load static %}
                        <div class="protfolio-img-background-mesurment" style="background-image: url({% static 'mysite/images/gray-background.jpg' %});"></div>

                        <div class="dash-text-wrapper">
                            <div class="haeder-wrapper">
                                <span class="labelmain">Line's Number</span>
                            </div><br><br>

                            <div class="measure-wrapper">
                                <label>{{highest_line_number_by_station}}</label>
                            </div>
                        </div>
                    </div>

                    <div class="protfolio-item-wrapper">
                        {% load static %}
                        <div class="protfolio-img-background-mesurment" style="background-image: url({% static 'mysite/images/gray-background.jpg' %});"></div>

                        <div class="dash-text-wrapper">
                            <div class="haeder-wrapper">
                                <span class="labelmain">Number of Stations</span>
                            </div><br><br>

                            <div class="measure-wrapper">
                                <label>{{highest_number_station}}</label>
                            </div>
                        </div>
                    </div>
                    
                </div>
                
             




                                
                <div class="protfolio-items-wrapper-bus-line">

                    <div class="protfolio-item-wrapper">
                        {% load static %}
                        <div class="protfolio-img-background-mesurment" style="background-image: url({% static 'mysite/images/gray-background.jpg' %});"></div>

                        <div class="dash-text-wrapper">
                            <div class="haeder-wrapper">
                                <span class="labelmain">THE FASTEST LINE:</span>
                            </div><br><br>

                            <div class="measure-wrapper">
                                <label></label>
                            </div>
                        </div>
                    </div>

                    <div class="protfolio-item-wrapper">
                        {% load static %}
                        <div class="protfolio-img-background-mesurment" style="background-image: url({% static 'mysite/images/gray-background.jpg' %});"></div>

                        <div class="dash-text-wrapper">
                            <div class="haeder-wrapper">
                                <span class="labelmain">Line's Route</span>
                            </div><br><br>

                            <div class="measure-wrapper">
                                <label>{{fastest_route_name_time.0}}<br>⇆<br>{{fastest_route_name_time.1}}</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="protfolio-item-wrapper">
                        {% load static %}
                        <div class="protfolio-img-background-mesurment" style="background-image: url({% static 'mysite/images/gray-background.jpg' %});"></div>

                        <div class="dash-text-wrapper">
                            <div class="haeder-wrapper">
                                <span class="labelmain">Line's Number</span>
                            </div><br><br>

                            <div class="measure-wrapper">
                                <label>{{fastest_line_number_time}}</label>
                            </div>
                        </div>
                    </div>

                    <div class="protfolio-item-wrapper">
                        {% load static %}
                        <div class="protfolio-img-background-mesurment" style="background-image: url({% static 'mysite/images/gray-background.jpg' %});"></div>

                        <div class="dash-text-wrapper">
                            <div class="haeder-wrapper">
                                <span class="labelmain">Total Time of Travel [minutes]</span>
                            </div><br><br>

                            <div class="measure-wrapper">
                                <label>{{fastest_route_time}}</label>
                            </div>
                        </div>
                    </div>
                    
                </div>
                
               




                                
                <div class="protfolio-items-wrapper-bus-line">

                    <div class="protfolio-item-wrapper">
                        {% load static %}
                        <div class="protfolio-img-background-mesurment" style="background-image: url({% static 'mysite/images/gray-background.jpg' %});"></div>

                        <div class="dash-text-wrapper">
                            <div class="haeder-wrapper">
                                <span class="labelmain">THE SLOWEST LINE:</span>
                            </div><br><br>

                            <div class="measure-wrapper">
                                <label></label>
                            </div>
                        </div>
                    </div>

                    <div class="protfolio-item-wrapper">
                        {% load static %}
                        <div class="protfolio-img-background-mesurment" style="background-image: url({% static 'mysite/images/gray-background.jpg' %});"></div>

                        <div class="dash-text-wrapper">
                            <div class="haeder-wrapper">
                                <span class="labelmain">Line's Route</span>
                            </div><br><br>

                            <div class="measure-wrapper">
                                <label>{{slowest_route_name_time.0}}<br>⇆<br>{{slowest_route_name_time.1}}</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="protfolio-item-wrapper">
                        {% load static %}
                        <div class="protfolio-img-background-mesurment" style="background-image: url({% static 'mysite/images/gray-background.jpg' %});"></div>

                        <div class="dash-text-wrapper">
                            <div class="haeder-wrapper">
                                <span class="labelmain">Line's Number</span>
                            </div><br><br>

                            <div class="measure-wrapper">
                                <label>{{slowest_line_number_time}}</label>
                            </div>
                        </div>
                    </div>

                    <div class="protfolio-item-wrapper">
                        {% load static %}
                        <div class="protfolio-img-background-mesurment" style="background-image: url({% static 'mysite/images/gray-background.jpg' %});"></div>

                        <div class="dash-text-wrapper">
                            <div class="haeder-wrapper">
                                <span class="labelmain">Total Time of Travel [minutes]</span>
                            </div><br><br>

                            <div class="measure-wrapper">
                                <label>{{slowest_route_time}}</label>
                            </div>
                        </div>
                    </div>
                    
                </div>
       




                <div class="protfolio-items-wrapper-bus-line">

                    <div class="protfolio-item-wrapper">
                        {% load static %}
                        <div class="protfolio-img-background-mesurment" style="background-image: url({% static 'mysite/images/gray-background.jpg' %});"></div>

                        <div class="dash-text-wrapper">
                            <div class="haeder-wrapper">
                                <span class="labelmain">THE MOST POPULAR LINE BY NUMBER OF TRIPS:</span>
                            </div><br><br>

                            <div class="measure-wrapper">
                                <label></label>
                            </div>
                        </div>
                    </div>

                    <div class="protfolio-item-wrapper">
                        {% load static %}
                        <div class="protfolio-img-background-mesurment" style="background-image: url({% static 'mysite/images/gray-background.jpg' %});"></div>

                        <div class="dash-text-wrapper">
                            <div class="haeder-wrapper">
                                <span class="labelmain">Line's Route</span>
                            </div><br><br>

                            <div class="measure-wrapper">
                                <label>{{popular_route_name.0}}<br>⇆<br>{{popular_route_name.1}}</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="protfolio-item-wrapper">
                        {% load static %}
                        <div class="protfolio-img-background-mesurment" style="background-image: url({% static 'mysite/images/gray-background.jpg' %});"></div>

                        <div class="dash-text-wrapper">
                            <div class="haeder-wrapper">
                                <span class="labelmain">Line's Number</span>
                            </div><br><br>

                            <div class="measure-wrapper">
                                <label>{{popular_route_number}}</label>
                            </div>
                        </div>
                    </div>

                    <div class="protfolio-item-wrapper">
                        {% load static %}
                        <div class="protfolio-img-background-mesurment" style="background-image: url({% static 'mysite/images/gray-background.jpg' %});"></div>

                        <div class="dash-text-wrapper">
                            <div class="haeder-wrapper">
                                <span class="labelmain">Total Number of Trips</span>
                            </div><br><br>

                            <div class="measure-wrapper">
                                <label>{{popular_number_of_trips}}</label>
                            </div>
                        </div>
                    </div>
                    
                </div>
                                                



                                                
                <div class="protfolio-items-wrapper-bus-line">

                    <div class="protfolio-item-wrapper">
                        {% load static %}
                        <div class="protfolio-img-background-mesurment" style="background-image: url({% static 'mysite/images/gray-background.jpg' %});"></div>

                        <div class="dash-text-wrapper">
                            <div class="haeder-wrapper">
                                <span class="labelmain">THE LINE WITH THE LEAST POPULARITY BY NUMBER OF TRIPS:</span>
                            </div><br><br>

                            <div class="measure-wrapper">
                                <label></label>
                            </div>
                        </div>
                    </div>

                    <div class="protfolio-item-wrapper">
                        {% load static %}
                        <div class="protfolio-img-background-mesurment" style="background-image: url({% static 'mysite/images/gray-background.jpg' %});"></div>

                        <div class="dash-text-wrapper">
                            <div class="haeder-wrapper">
                                <span class="labelmain">Line's Route</span>
                            </div><br><br>

                            <div class="measure-wrapper">
                                <label>{{unpopular_route_name.0}}<br>⇆<br>{{unpopular_route_name.1}}</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="protfolio-item-wrapper">
                        {% load static %}
                        <div class="protfolio-img-background-mesurment" style="background-image: url({% static 'mysite/images/gray-background.jpg' %});"></div>

                        <div class="dash-text-wrapper">
                            <div class="haeder-wrapper">
                                <span class="labelmain">Line's Number</span>
                            </div><br><br>

                            <div class="measure-wrapper">
                                <label>{{unpopular_route_number}}</label>
                            </div>
                        </div>
                    </div>

                    <div class="protfolio-item-wrapper">
                        {% load static %}
                        <div class="protfolio-img-background-mesurment" style="background-image: url({% static 'mysite/images/gray-background.jpg' %});"></div>

                        <div class="dash-text-wrapper">
                            <div class="haeder-wrapper">
                                <span class="labelmain">Total Number of Trips</span>
                            </div><br><br>

                            <div class="measure-wrapper">
                                <label>{{unpopular_number_of_trips}}</label>
                            </div>
                        </div>
                    </div>
                    
                </div>
    
            <hr>
            <span class="labelmain"><center>Agency's Trips for Today</center>
            <hr></span>
                        <div class="second-section-content-wrapper">
                <div class="protfolio-items-wrapper-hist">
                    <div class="protfolio-item-wrapper-hist">
                        <div class="protfolio-img-background"></div>

                        <div class="img-text-wrapper-hist">

                            <div class="logo-wrapper">
                                <img src="data:image/png;base64,{{hours_histogram_picture}}">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
           
          <hr>
          <span class="labelmain"><center>Agency's Actual and Missed Trips for Today</center>
          <hr></span>  
          <h3><center>Recorded trips:<br>{{number_of_actual_trips}}</center></h3></td>
            <h3><center>Unrecorded trips:<br>{{number_of_missed_trips}}</center></h3></br></td>
          <div class="second-section-content-wrapper">
                <div class="protfolio-items-wrapper-hist">
                    <div class="protfolio-item-wrapper-hist">
                        <div class="protfolio-img-background"></div>

                        <div class="img-text-wrapper-hist">

                            <div class="logo-wrapper">
                                <img src="data:image/png;base64,{{actual_and_missed_trips_picture}}">
                            </div>

                            <!-- <div class="subtitle">
                                Here sould be the histogram
                            </div> -->
                        </div>
                    </div>
                </div>
            </div>
            
               
            </div>
            </div>
{% endblock %}
            

